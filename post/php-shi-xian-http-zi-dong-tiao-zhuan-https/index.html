
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>PHP实现 HTTP 自动跳转 HTTPS | 零度时光</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://domognete76.github.io/favicon.ico?v=1596619793061">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://domognete76.github.io/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://domognete76.github.io">
        <img class="avatar" src="https://domognete76.github.io/images/avatar.png?v=1596619793061" alt="" width="32px" height="32px">
      </a>
      <a href="https://domognete76.github.io">
        <h1 class="site-title">零度时光</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            首页
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            归档
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            标签
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            关于
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">PHP实现 HTTP 自动跳转 HTTPS</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2020-08-05</span>
            
          </div>
          <div class="post-content">
            <!--more-->
<blockquote>
<p>刚刚给网站安装上了 SSL 证书，并且可以成功使用 HTTPS 进行访问。可一会儿就遇到了非常严重的问题，那就是在访问 HTTP 时并不会自动跳转至 HTTPS。<br>
于是我百度，Google 了好久，都没能够找到适用于虚拟主机实现自动跳转的方法（如果是 VPS 的话就很简单，百度就有很多方法可以实现），不过后来我想到了一个方法，就是能不能通过在网站头部加入 PHP 代码实现自动跳转呢？</p>
</blockquote>
<p>终于让我在<a href="https://liyuans.com/archives/http-automatic-jump-https.html">某博客</a>找到了以下代码：</p>
<pre><code class="language-php">   &lt;?php
     if ($_SERVER[&quot;HTTPS&quot;] &lt;&gt; &quot;on&quot;)
    {
        $xredir = &quot;https://&quot;.$_SERVER[&quot;SERVER_NAME&quot;].$_SERVER[&quot;REQUEST_URI&quot;];
        header(&quot;Location: &quot;.$xredir);
    }
    ?&gt;
</code></pre>
<!--more-->
<p>我抱着试试看的心态，直接将上面的代码添加至网站头部，令人惊喜的是，真的成功实现了自动跳转，而且是直接跳转，不会加载一会儿再跳转。<br>
最后说一下如何在 Typecho、WordPress 等中使用此方法：直接将上面的代码添加至你的模板里的 header.php 文件的顶部即可。</p>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="https://domognete76.github.io/post/sqlmap-shi-yong-bi-ji/">
              <h3 class="post-title">
                下一篇：SQLmap使用笔记
              </h3>
            </a>
          </div>
          
      </div>

      

      <div class="site-footer">
  <div class="slogan">温故而知新</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  ICP备案网站信息<a href="http://beian.miit.gov.cn/" target="_blank">鄂ICP备17008616号 </a>|
本网站由<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank"><img src="https://i.loli.net/2020/08/05/HdGZmTIEUgwft94.png" height="50" width="100" /></a>提供 CDN 加速/云存储服务 | <a class="rss" href="https://domognete76.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
